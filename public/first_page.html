<!doctype html>

<html lang="en"> 
  <head>
    
    <meta charset="utf-8" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.5/css/bulma.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <title>Assignment 1</title>
    
    <style>
        
        #search, #search_btn, #results{
          position: absolute;
          right: 150px;
          z-index: 1000;
        }
        #results{
          margin-top: 35px;
        }
    </style>
  </head> 

 <body>

  <div id="output" class="container">
      <p><input class="input" type="text" id="search" placeholder="Search book ..." />&nbsp;
          <button id="search_btn" class="button" type="submit">search</button></p>

      <div id="results"></div>

          <div class="columns">

              <div id="booklist" class="column is-half"></div>
          </div>
  </div>

          <div class="column">
            <div id="modal" class="modal" >
            <div class="modal-background"></div>
            <div class="modal-content">

    <div id="bookdetail" class="box">
  </div>
  <div>
  <button onclick="closeModal()" class="modal-close is-large" aria-label="close"></button></div>
        </div>
      </div>
  </div>



   <script>


      $(document).ready(function(){
      
        $('#booklist').load('server.php');

       

        });

      $(document).ready(function(){
  // capture keystrokes in search box
      $('#search').keyup(function(e){
        var data = {};
        data.s = $(this).val();
        $.get('search2.php', data, function(response, status, xhr){
          //console.log(response);
           $('#results').html(response);
           }, 'html');
       });
//this.data = '#search';
  });

    function showModal(el){

        var id = $(el).attr('data-book_id');
        //console.log(id);
        // use load to populate the bookdetail div
        $('#bookdetail').load('server.php?book_id='+id);
           $('#modal').addClass('is-active');
      }

      function closeModal(){
        $('#modal').removeClass('is-active');
    } 


      

   </script>
  </body>

</html>